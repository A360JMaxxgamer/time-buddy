@page "/projects/{ProjectId:int}"
@using TimeBuddy.Core.Store.ProjectUseCase
@using TimeBuddy.Core.Models
@inherits FluxorComponent
@inject IDispatcher Dispatcher
@inject IState<ProjectState> State

@if (State.Value.Project is null || State.Value.IsLoading)
{
    <MudProgressCircular Indeterminate="true"/>
}
else
{
    <MudContainer>
        <MudText>@State.Value.Project.Name</MudText>
        <TimeFrameTimeLine TimeFrames="@State.Value.Project.TimeFrames"/>
    </MudContainer>
}

@code {

    [Parameter]
    public int ProjectId { get; set; }

    /// <inheritdoc />
    protected override void OnParametersSet()
    {
        base.OnParametersSet();
        Dispatcher.Dispatch(new LoadProjectAction(ProjectId));
    }
    
}